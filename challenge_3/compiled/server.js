'use strict';

var express = require('express');
var app = express();
var databaseMethods = require('./database/index.js');
var bodyParser = require('body-parser');

app.use(express.urlencoded({ extended: true }), bodyParser.json(), express.static(__dirname + './public/'));

// GET method route
app.get('/project', function (req, res) {
  databaseMethods.getFormData(function (error, data) {
    if (error) {
      res.send(error);
    } else {
      res.status(200).send(data);
    }
  });
});

var testData = {
  "name": "Matt",
  "email": "matt@matt.com",
  "password": "1234",
  "line1": "10 Good Street",
  "line2": "#5",
  "city": "San Fran",
  "state": "CA",
  "zipcode": "12345",
  "phonenumber": "1234567890",
  "creditcard": "12345678970123456",
  "expirydate": "01/01/10",
  "cvv": 123,
  "billingzip": 12345
};

// POST method route
app.post('/project', function (req, res) {
  databaseMethods.insertFormData(testData, function (error) {
    if (error) {
      res.send(error);
    } else {
      res.status(201).send();
    }
  });
});

app.listen(3000, function () {
  return console.log('listening on port 3000!');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImRhdGFiYXNlTWV0aG9kcyIsImJvZHlQYXJzZXIiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwic3RhdGljIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVxIiwicmVzIiwiZ2V0Rm9ybURhdGEiLCJlcnJvciIsImRhdGEiLCJzZW5kIiwic3RhdHVzIiwidGVzdERhdGEiLCJwb3N0IiwiaW5zZXJ0Rm9ybURhdGEiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLFVBQVVDLFFBQVEsU0FBUixDQUFoQjtBQUNBLElBQU1DLE1BQU1GLFNBQVo7QUFDQSxJQUFNRyxrQkFBa0JGLFFBQVEscUJBQVIsQ0FBeEI7QUFDQSxJQUFNRyxhQUFhSCxRQUFRLGFBQVIsQ0FBbkI7O0FBRUFDLElBQUlHLEdBQUosQ0FBUUwsUUFBUU0sVUFBUixDQUFtQixFQUFDQyxVQUFVLElBQVgsRUFBbkIsQ0FBUixFQUE4Q0gsV0FBV0ksSUFBWCxFQUE5QyxFQUFpRVIsUUFBUVMsTUFBUixDQUFlQyxZQUFZLFdBQTNCLENBQWpFOztBQUVBO0FBQ0FSLElBQUlTLEdBQUosQ0FBUSxVQUFSLEVBQW9CLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ2hDVixrQkFBZ0JXLFdBQWhCLENBQTRCLFVBQUNDLEtBQUQsRUFBUUMsSUFBUixFQUFpQjtBQUMzQyxRQUFJRCxLQUFKLEVBQVc7QUFDVEYsVUFBSUksSUFBSixDQUFTRixLQUFUO0FBQ0QsS0FGRCxNQUVPO0FBQ0xGLFVBQUlLLE1BQUosQ0FBVyxHQUFYLEVBQWdCRCxJQUFoQixDQUFxQkQsSUFBckI7QUFDRDtBQUNGLEdBTkQ7QUFPRCxDQVJEOztBQVVBLElBQUlHLFdBQVc7QUFDYixVQUFRLE1BREs7QUFFYixXQUFRLGVBRks7QUFHYixjQUFZLE1BSEM7QUFJYixXQUFTLGdCQUpJO0FBS2IsV0FBUyxJQUxJO0FBTWIsVUFBUSxVQU5LO0FBT2IsV0FBUyxJQVBJO0FBUWIsYUFBVyxPQVJFO0FBU2IsaUJBQWUsWUFURjtBQVViLGdCQUFjLG1CQVZEO0FBV2IsZ0JBQWMsVUFYRDtBQVliLFNBQU8sR0FaTTtBQWFiLGdCQUFjO0FBYkQsQ0FBZjs7QUFnQkE7QUFDQWpCLElBQUlrQixJQUFKLENBQVMsVUFBVCxFQUFxQixVQUFVUixHQUFWLEVBQWVDLEdBQWYsRUFBb0I7QUFDdkNWLGtCQUFnQmtCLGNBQWhCLENBQStCRixRQUEvQixFQUF5QyxVQUFDSixLQUFELEVBQVc7QUFDbEQsUUFBSUEsS0FBSixFQUFXO0FBQ1RGLFVBQUlJLElBQUosQ0FBU0YsS0FBVDtBQUNELEtBRkQsTUFFTztBQUNMRixVQUFJSyxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEI7QUFDRDtBQUNGLEdBTkQ7QUFPRCxDQVJEOztBQVdBZixJQUFJb0IsTUFBSixDQUFXLElBQVgsRUFBaUI7QUFBQSxTQUFNQyxRQUFRQyxHQUFSLENBQVkseUJBQVosQ0FBTjtBQUFBLENBQWpCIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBkYXRhYmFzZU1ldGhvZHMgPSByZXF1aXJlKCcuL2RhdGFiYXNlL2luZGV4LmpzJyk7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcblxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSksIGJvZHlQYXJzZXIuanNvbigpLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnLi9wdWJsaWMvJykpO1xuXG4vLyBHRVQgbWV0aG9kIHJvdXRlXG5hcHAuZ2V0KCcvcHJvamVjdCcsIChyZXEsIHJlcykgPT4ge1xuICBkYXRhYmFzZU1ldGhvZHMuZ2V0Rm9ybURhdGEoKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXMuc2VuZChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGRhdGEpO1xuICAgIH1cbiAgfSk7XG59KTtcblxudmFyIHRlc3REYXRhID0ge1xuICBcIm5hbWVcIjogXCJNYXR0XCIsXG4gIFwiZW1haWxcIjpcIm1hdHRAbWF0dC5jb21cIixcbiAgXCJwYXNzd29yZFwiOiBcIjEyMzRcIixcbiAgXCJsaW5lMVwiOiBcIjEwIEdvb2QgU3RyZWV0XCIsXG4gIFwibGluZTJcIjogXCIjNVwiLFxuICBcImNpdHlcIjogXCJTYW4gRnJhblwiLFxuICBcInN0YXRlXCI6IFwiQ0FcIixcbiAgXCJ6aXBjb2RlXCI6IFwiMTIzNDVcIixcbiAgXCJwaG9uZW51bWJlclwiOiBcIjEyMzQ1Njc4OTBcIixcbiAgXCJjcmVkaXRjYXJkXCI6IFwiMTIzNDU2Nzg5NzAxMjM0NTZcIixcbiAgXCJleHBpcnlkYXRlXCI6IFwiMDEvMDEvMTBcIixcbiAgXCJjdnZcIjogMTIzLFxuICBcImJpbGxpbmd6aXBcIjogMTIzNDVcbn07XG5cbi8vIFBPU1QgbWV0aG9kIHJvdXRlXG5hcHAucG9zdCgnL3Byb2plY3QnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgZGF0YWJhc2VNZXRob2RzLmluc2VydEZvcm1EYXRhKHRlc3REYXRhLCAoZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJlcy5zZW5kKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoKVxuICAgIH1cbiAgfSlcbn0pXG5cblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiBjb25zb2xlLmxvZygnbGlzdGVuaW5nIG9uIHBvcnQgMzAwMCEnKSlcbiJdfQ==